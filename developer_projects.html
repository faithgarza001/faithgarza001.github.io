<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" xintegrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
          crossorigin="anonymous">
    <link rel="stylesheet"  href="css/home.css" />
</head>
<body> 
<div class="wrapper"></div>
<div class="video-bg">
    <video width="320" height="240" autoplay loop muted>
        <source src="https://assets.codepen.io/3364143/7btrrd.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
</div>
<div class="dark-light">
    <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" /></svg>
</div>
<div class="app mt-3">
    <!-- Mobile sidebar toggle (Bootstrap Offcanvas) -->
    <button class="btn btn-outline-light d-md-none ms-2 mt-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#mobileSidebar" aria-controls="mobileSidebar" aria-label="Open menu">
        <i class="fas fa-bars"></i>
    </button>
    <!-- Offcanvas Sidebar for mobile -->
    <div class="offcanvas offcanvas-start d-md-none" tabindex="-1" id="mobileSidebar" aria-labelledby="mobileSidebarLabel" style="--bs-offcanvas-width: 260px; background-color: var(--dropdown-bg); color: var(--theme-color);">
        <div class="offcanvas-header border-bottom" style="border-color: var(--border-color);">
            <h5 class="offcanvas-title" id="mobileSidebarLabel">Menu</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div class="mb-3">
                <div class="text-uppercase small mb-2" style="color: var(--inactive-color);">Apps</div>
                <div class="list-group list-group-flush">
                    <a class="list-group-item list-group-item-action bg-transparent text-light" href="index.html">
                        <i class="fas fa-brain me-2"></i> DevOS: Faith Garza
                    </a>
                    <a class="list-group-item list-group-item-action bg-transparent text-light" href="developer_projects.html">
                        <i class="fas fa-th-large me-2"></i> Developer Projects
                    </a>
                    <a class="list-group-item list-group-item-action bg-transparent text-light" href="#">
                        <i class="fas fa-chart-line me-2"></i> Site Analytics
                        <span class="badge bg-danger ms-2">3</span>
                    </a>
                </div>
            </div>
            <div class="mb-3">
                <div class="text-uppercase small mb-2" style="color: var(--inactive-color);">Categories</div>
                <div class="list-group list-group-flush">
                    <a class="list-group-item list-group-item-action bg-transparent text-light" href="#">
                        <i class="fas fa-camera me-2"></i> Photography
                    </a>
                    <a class="list-group-item list-group-item-action bg-transparent text-light" href="web_design.html">
                        <i class="fas fa-laptop-code me-2"></i> UI|UX Projects
                    </a>
                    <a class="list-group-item list-group-item-action bg-transparent text-light" href="#">
                        <i class="fas fa-film me-2"></i> Videography
                    </a>
                    <a class="list-group-item list-group-item-action bg-transparent text-light" href="#">
                        <i class="fas fa-pen-nib me-2"></i> Illustrations
                    </a>
                </div>
            </div>
            <div class="mb-3">
                <div class="text-uppercase small mb-2" style="color: var(--inactive-color);">Exposure To</div>
                <div class="list-group list-group-flush">
                    <a class="list-group-item list-group-item-action bg-transparent text-light" href="#">
                        <i class="fas fa-robot me-2"></i> Mechatronics
                    </a>
                </div>
            </div>
            <div>
                <div class="text-uppercase small mb-2" style="color: var(--inactive-color);">Resource Links</div>
                <div class="list-group list-group-flush">
                    <a class="list-group-item list-group-item-action bg-transparent text-light" href="#">
                        <i class="fas fa-book me-2"></i> Tutorials
                    </a>
                    <a class="list-group-item list-group-item-action bg-transparent text-light" href="#">
                        <i class="fab fa-behance me-2"></i> Behance
                    </a>
                    <a class="list-group-item list-group-item-action bg-transparent text-light" href="#">
                        <i class="fas fa-comments me-2"></i> Social Forum
                    </a>
                </div>
            </div>
        </div>
    </div>
    <div class="wrapper">      
    <div class="left-side d-none d-md-block">
            <div class="side-wrapper">
                <div class="side-title">Apps</div>
                <div class="side-menu">
                    <a href="index.html" class="menu-link is-active">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-brain-circuit">
                            <path d="M9 3a3 3 0 0 0-3 3v1H5V5a4 4 0 0 1 8 0v2h-1V6a3 3 0 0 0-3-3z"/>
                            <path d="M15 3a3 3 0 0 1 3 3v1h1V5a4 4 0 0 0-8 0v2h1V6a3 3 0 0 1 3-3z"/>
                            <rect x="2" y="8" width="20" height="12" rx="6"/>
                            <path d="M8 12h2v4H8zM14 12h2v4h-2zM12 8v2M12 20v2M6 14H2M18 14h4"/>
                        </svg>
                        DevOS: Faith Garza
                    </a>
                    <a href="developer_projects.html">
                        <svg viewBox="0 0 512 512">
                            <g xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                                <path d="M0 0h128v128H0zm0 0M192 0h128v128H192zm0 0M384 0h128v128H384zm0 0M0 192h128v128H0zm0 0" data-original="#bfc9d1" />
                            </g>
                            <path xmlns="http://www.w3.org/2000/svg" d="M192 192h128v128H192zm0 0" fill="currentColor" data-original="#82b1ff" />
                            <path xmlns="http://www.w3.org/2000/svg" d="M384 192h128v128H384zm0 0M0 384h128v128H0zm0 0M192 384h128v128H192zm0 0M384 384h128v128H384zm0 0" fill="currentColor" data-original="#bfc9d1" />
                        </svg>
                        Developer Projects
                    </a>
                     <a class="list-group-item list-group-item-action bg-transparent text-light" href="analytics.html">
                        <i class="fas fa-chart-line me-2"></i> Site Analytics
                        <span class="badge bg-danger ms-2">live</span>
                    </a>                    
                </div>
            </div>
            <div class="side-wrapper">
                <div class="side-title">Categories</div>
                <div class="side-menu">
                    <a href="photography.html">
                        <svg viewBox="0 0 488.455 488.455" fill="currentColor">
                            <path d="M287.396 216.317c23.845 23.845 23.845 62.505 0 86.35s-62.505 23.845-86.35 0-23.845-62.505 0-86.35 62.505-23.845 86.35 0" />
                            <path d="M427.397 91.581H385.21l-30.544-61.059H133.76l-30.515 61.089-42.127.075C27.533 91.746.193 119.115.164 152.715L0 396.86c0 33.675 27.384 61.074 61.059 61.074h366.338c33.675 0 61.059-27.384 61.059-61.059V152.639c-.001-33.674-27.385-61.058-61.059-61.058zM244.22 381.61c-67.335 0-122.118-54.783-122.118-122.118s54.783-122.118 122.118-122.118 122.118 54.783 122.118 122.118S311.555 381.61 244.22 381.61z" />
                        </svg>
                        Photography
                    </a>
                    <a href="web_design.html">
                        <svg viewBox="0 0 512 512" fill="currentColor">
                            <path d="M497 151H316c-8.401 0-15 6.599-15 15v300c0 8.401 6.599 15 15 15h181c8.401 0 15-6.599 15-15V166c0-8.401-6.599-15-15-15zm-76 270h-30c-8.401 0-15-6.599-15-15s6.599-15 15-15h30c8.401 0 15 6.599 15 15s-6.599 15-15 15zm0-180h-30c-8.401 0-15-6.599-15-15s6.599-15 15-15h30c8.401 0 15 6.599 15 15s-6.599 15-15 15z" />
                            <path d="M15 331h196v60h-75c-8.291 0-15 6.709-15 15s6.709 15 15 15h135v-30h-30v-60h30V166c0-24.814 20.186-45 45-45h135V46c0-8.284-6.716-15-15-15H15C6.716 31 0 37.716 0 46v270c0 8.284 6.716 15 15 15z" />
                        </svg>
                        UI/UX Projects
                    </a>
                    <a href="Multimedia.html">
                        <svg viewBox="0 0 58 58" fill="currentColor">
                            <path d="M57 6H1a1 1 0 00-1 1v44a1 1 0 001 1h56a1 1 0 001-1V7a1 1 0 00-1-1zM10 50H2v-9h8v9zm0-11H2v-9h8v9zm0-11H2v-9h8v9zm0-11H2V8h8v9zm26.537 12.844l-11 7a1.007 1.007 0 01-1.018.033A1.001 1.001 0 0124 36V22a1.001 1.001 0 011.538-.844l11 7a1.003 1.003 0 01-.001 1.688zM56 50h-8v-9h8v9zm0-11h-8v-9h8v9zm0-11h-8v-9h8v9zm0-11h-8V8h8v9z" />
                        </svg>
                        Videography
                    </a>
                </div>
            </div>
            <div class="side-wrapper">
                <div class="side-title">Exposure To:</div>
                <div class="side-menu">
                    <a href="#">
                        <svg viewBox="0 0 332 332" fill="currentColor">
                            <path d="M282.341 8.283C275.765 2.705 266.211 0 253.103 0c-18.951 0-36.359 5.634-51.756 16.743-14.972 10.794-29.274 28.637-42.482 53.028-4.358 7.993-7.428 11.041-8.973 12.179h-26.255c-10.84 0-19.626 8.786-19.626 19.626 0 8.989 6.077 16.486 14.323 18.809l-.05.165h.589c1.531.385 3.109.651 4.757.651h18.833l-32.688 128.001c-7.208 27.848-10.323 37.782-11.666 41.24-1.445 3.711-3.266 7.062-5.542 10.135-.42-5.39-2.637-10.143-6.508-13.854-4.264-4.079-10.109-6.136-17.364-6.136-8.227 0-15.08 2.433-20.37 7.229-5.416 4.93-8.283 11.193-8.283 18.134 0 5.157 1.701 12.712 9.828 19.348 6.139 4.97 14.845 7.382 26.621 7.382 17.096 0 32.541-4.568 45.891-13.577 13.112-8.845 24.612-22.489 34.166-40.522 9.391-17.678 18.696-45.124 28.427-83.9l18.598-73.479h30.016c10.841 0 19.625-8.785 19.625-19.625s-8.784-19.626-19.625-19.626h-19.628c6.34-21.62 14.175-37.948 23.443-48.578 2.284-2.695 5.246-5.692 8.412-7.678-1.543 3.392-2.325 6.767-2.325 10.055 0 6.164 2.409 11.714 6.909 16.03 4.484 4.336 10.167 6.54 16.888 6.54 7.085 0 13.373-2.667 18.17-7.716 4.76-5.005 7.185-11.633 7.185-19.703.017-9.079-3.554-16.899-10.302-22.618z" />
                        </svg>
                        Mechatronics
                    </a>
                </div>
            </div>
            <div class="side-wrapper">
                <div class="side-title">Resource Links</div>
                <div class="side-menu">
                    <a href="#">
                        <svg viewBox="0 0 511.441 511.441" fill="currentColor">
                            <path d="M255.721 347.484L90.22 266.751v106.57l165.51 73.503 165.509-73.503V266.742z" />
                            <path d="M511.441 189.361L255.721 64.617 0 189.361l255.721 124.744 195.522-95.378v111.032h30V204.092z" />
                        </svg>
                        Tutorials
                    </a>
                    <a href="#">
                        <svg viewBox="0 0 512 512" fill="currentColor">
                            <path d="M181 181h-60v60h60c16.54 0 30-13.46 30-30s-13.46-30-30-30zm0 0M181 271h-60v60h60c16.54 0 30-13.46 30-30s-13.46-30-30-30zm0 0M346 241c-19.555 0-36.238 12.54-42.438 30h84.875c-6.199-17.46-22.882-30-42.437-30zm0 0" />
                            <path d="M436 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h361c41.352 0 76-33.648 76-75V75c0-41.352-34.648-75-76-75zM286 151h120v30H286zm-45 150c0 33.09-26.91 60-60 60H91V151h90c33.09 0 60 26.91 60 60 0 18.008-8.133 33.996-20.73 45 12.597 11.004 20.73 26.992 20.73 45zm180 0H303.562c6.196 17.46 22.883 30 42.438 30 16.012 0 30.953-8.629 38.992-22.516l25.957 15.032C397.58 346.629 372.687 361 346 361c-41.352 0-75-33.648-75-75s33.648-75 75-75 75 33.648 75 75zm0 0" />
                        </svg>
                        Behance
                    </a>
                    <a href="#">
                        <svg viewBox="0 0 512 512" fill="currentColor">
                            <path d="M352 0H64C28.704 0 0 28.704 0 64v320a16.02 16.02 0 009.216 14.496A16.232 16.232 0 0016 400c3.68 0 7.328-1.248 10.24-3.712L117.792 320H352c35.296 0 64-28.704 64-64V64c0-35.296-28.704-64-64-64z" />
                            <path d="M464 128h-16v128c0 52.928-43.072 96-96 96H129.376L128 353.152V400c0 26.464 21.536 48 48 48h234.368l75.616 60.512A16.158 16.158 0 00496 512c2.336 0 4.704-.544 6.944-1.6A15.968 15.968 0 00512 496V176c0-26.464-21.536-48-48-48z" />
                        </svg>
                        Social Forum
                    </a>
                </div>
            </div>
        </div>
        <div class="main-container">
            <!-- Inline page-only style to keep header from affecting sidebar position -->
            <style>
                /* Page-local: position header only within main content so left sidebar stays flush */
                .main-container > .header { 
                    position: relative; /* keeps normal flow inside main content */
                    margin-bottom: 4px; /* slight spacing from content */
                }
            </style>
            <div class="header">
                <div class="header-profile">
                    <nav class="navbar">
                        <ul class="nav nav-pills ms-auto">
                            <li id="urbanAir" class="nav-item">
                                <a class="nav-link text-light project-title" href="#" data-url="https://express-weather-world.onrender.com">Urban Air</a>
                            </li>
                            <!-- <li id="fleetPulse" class="nav-item">
                                <a class="nav-link transition-link text-light project-title" href="#">Fleet Pulse</a>
                            </li> -->
                            <li id="techTicket" class="nav-item">
                                <a class="nav-link text-light project-title" href="#" data-url="https://springdemo-43am.onrender.com">Tech Ticketing System</a>
                            </li>
                            <!-- <li id="shopSwift" class="nav-item">
                                <a class="nav-link transition-link text-light project-title" href="#">Shop Swift</a>
                            </li> -->
                            <li id="erpOperations" class="nav-item">
                                <a class="nav-link text-light project-title" href="#" data-url="https://softwareunicorn-001-site1.qtempurl.com">ERP Operations</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="content-wrapper">
                <div class="hero-section">
                    <div class="row grey_glassMorphism">
                        <!-- Left Content Area -->
                        <div class="left-content col-6">
                        </div>
                    </div>
                </div>
                <div class="content-section d-flex justify-content-center flex-wrap gap-3">
                    <div class="content-section-title">
                        Applied Design & Engineering
                    </div>
                   <div class="row w-100 project-card align-items-center">
                       <div class="col-6 d-flex justify-content-start">
                           <!--lottie animation-->
                           <div class="lottie-animation">
                               <canvas id="canvas" style="display: block;"></canvas>
                               <canvas id="canvasTwo" style="display: none;"></canvas>
                               <canvas id="canvasThree" style="display: none;"></canvas>
                               <canvas id="canvasFour" style="display: none;"></canvas>
                           </div>
                       </div>
                       <div class="col-6 d-flex justify-content-end mb-5 pb-5">
                           <button class="btn btn-primary" id="viewProject">View Project</button>
                       </div>
                   </div>
                    <div id="transition-overlay"></div>
                </div>
                <div class="content-section d-flex justify-content-center flex-wrap gap-3">
                <div class="content-section-title">
                  <span id="appName"></span>  Application Features At-A-Glance
                </div>
                <div class="apps-card">
                    <div class="app-card" id="one">
                    </div>
                    <div class="app-card" id="two">
                    </div>
                    <div class="app-card" id="three">
                    </div>
                </div>
            </div>
            <footer class="my-5" style="padding: 20px 0; font-size: 0.9rem;background-color: var(--content-bg)">
                <div class="container">
                    <div class="row align-items-start">


                        <div class="col-md-3 mb-3">
                            <h6>Profile</h6>
                            <ul class="list-unstyled mb-2">
                                <li><a href="about_me.html" class="text-decoration-none text-light">About Me</a></li>
                                <li><a href="#skills" class="text-decoration-none text-light">Skills</a></li>
                                <li><a href="#contact" class="text-decoration-none text-light">Contact</a></li>
                            </ul>
                        </div>


                        <div class="col-md-3 mb-3">
                            <h6>Resources</h6>
                            <ul class="list-unstyled mb-2">
                                <li><a href="/blog" class="text-decoration-none text-light">Blog</a></li>
                                <li><a href="/resume.pdf" target="_blank" class="text-decoration-none text-light">Download Resume</a></li>
                                <li><a href="/case-studies" class="text-decoration-none text-light">Case Studies</a></li>
                                <li><a href="/style-guide" class="text-decoration-none text-light">Style Guide</a></li>
                            </ul>
                        </div>


                        <div class="col-md-3 mb-3">
                            <h6>Art Projects</h6>
                            <ul class="list-unstyled mb-2">
                                <li><a href="https://store.steampowered.com/developer/yourprofile" target="_blank" class="text-decoration-none text-light">
                                    <i class="fab fa-steam"></i> Steam Projects
                                </a></li>
                                <li><a href="/unreal-projects" class="text-decoration-none text-light">
                                    <i class="fas fa-gamepad"></i> Unreal Engine Work
                                </a></li>
                                <li><a href="https://yourartportfolio.com" target="_blank" class="text-decoration-none text-light">
                                    <i class="fas fa-palette"></i> Art Portfolio
                                </a></li>
                            </ul>
                        </div>
                        <div class="col-md-3 mb-3">
                            <h6>Stay Connected</h6>
                            <form class="d-flex mb-2">
                                <input type="email" placeholder="Email" required
                                       style="padding: 5px 8px; width: 65%; border: none; border-radius: 4px 0 0 4px;">
                                <button type="submit"
                                        style="padding: 5px 12px; background-color: #ff6f61; color: white; border: none; border-radius: 0 4px 4px 0;">
                                    Send Email
                                </button>
                            </form>
                            <ul class="list-inline mb-0">
                                <li class="list-inline-item"><a href="https://github.com/yourusername" target="_blank"><i class="fab fa-github text-light"></i></a></li>
                                <li class="list-inline-item"><a href="https://linkedin.com/in/yourprofile" target="_blank"><i class="fab fa-linkedin-in text-light"></i></a></li>
                                <li class="list-inline-item"><a href="https://twitter.com/yourprofile" target="_blank"><i class="fab fa-twitter text-light"></i></a></li>
                                <li class="list-inline-item"><a href="https://dribbble.com/yourprofile" target="_blank"><i class="fab fa-dribbble text-light"></i></a></li>
                            </ul>
                        </div>

                    </div>
                </div>
            </footer>
        </div>
        </div>
    </div>
</div>
<div class="overlay-app"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script src="js/main.js"></script>
<script type="module"></script>

<!-- Project Preview Modal -->
<div class="modal fade" id="projectPreviewModal" tabindex="-1" aria-labelledby="projectPreviewTitle" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content" style="background-color: var(--popup-bg); color: var(--theme-color);">
            <div class="modal-header border-0">
                <h5 class="modal-title" id="projectPreviewTitle">Project</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="ratio ratio-16x9">
                    <iframe id="projectPreviewFrame" src="" title="Project Preview" loading="lazy" allowfullscreen style="border:0;"></iframe>
                </div>
                <div id="projectPreviewFallback" class="mt-3 d-none" style="color: var(--inactive-color); font-size: .9rem;">
                    Preview may be blocked by the site. Use "Open in New Tab" to view the project.
                </div>
            </div>
            <div class="modal-footer border-0">
                <a id="openFullScreenLink" href="#" target="_blank" rel="noopener" class="btn btn-primary">Open in New Tab</a>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
 </div>

<script>
    // Provide default URLs for project previews; will be merged with any existing window.projectUrls
    window.projectUrls = Object.assign({
        'Urban Air': 'https://express-weather-world.onrender.com',
        'Tech Ticketing System': 'https://springdemo-43am.onrender.com',
        'ERP Operations': 'http://faithgarza-001-site1.rtempurl.com/'
    }, window.projectUrls || {});

        document.addEventListener('DOMContentLoaded', function () {
            // Track current project selection (default to Urban Air)
            let currentProject = 'Urban Air';
            let currentProjectUrl = null;
            const projectMap = (window.projectUrls) ? window.projectUrls : {};

            // Derive URLs from data-url attributes when present (non-navigating selectors)
            // Data attributes take precedence over any defaults
            document.querySelectorAll('.project-title').forEach((a) => {
                const name = a.textContent.trim();
                const url = a.getAttribute('data-url');
                if (name && url) {
                    projectMap[name] = url;
                }
            });

        // Update current project on header nav clicks without interfering with navigation
                document.querySelectorAll('.project-title').forEach((a) => {
                    a.addEventListener('click', (e) => {
                        e.preventDefault(); // keep selection on-page
                        const name = a.textContent.trim();
                        if (name) {
                            currentProject = name;
                            currentProjectUrl = a.getAttribute('data-url') || projectMap[name] || null;
                        }
                    });
                });

                    // Also support clicks anywhere in the nav item (not only the text link)
                    document.querySelector('.navbar')?.addEventListener('click', (e) => {
                        const link = e.target.closest('.project-title');
                        if (!link) return;
                        e.preventDefault();
                        const name = link.textContent.trim();
                        if (name) {
                            currentProject = name;
                            currentProjectUrl = link.getAttribute('data-url') || projectMap[name] || null;
                        }
                    }, true);

        const viewBtn = document.getElementById('viewProject');
        const modalEl = document.getElementById('projectPreviewModal');
        const iframe = document.getElementById('projectPreviewFrame');
        const fallbackMsg = document.getElementById('projectPreviewFallback');
        const titleEl = document.getElementById('projectPreviewTitle');
        const openLink = document.getElementById('openFullScreenLink');

            function showProjectModal() {
                const url = currentProjectUrl || projectMap[currentProject] || projectMap['Urban Air'] || '';
            titleEl.textContent = currentProject || 'Project';
            openLink.href = url || '#';
            fallbackMsg.classList.add('d-none');

                // Slightly widen the modal for Urban Air only
                if (currentProject === 'Urban Air') {
                    // default xl is ~1140px; bump to ~1220px for a subtle increase
                    modalEl.style.setProperty('--bs-modal-width', '1220px');
                } else {
                    modalEl.style.removeProperty('--bs-modal-width');
                }

            // Load preview iframes are permitted
            if (url) {
                try {
                    iframe.src = url;
                } catch (e) {
                    iframe.removeAttribute('src');
                    fallbackMsg.classList.remove('d-none');
                }
            } else {
                iframe.removeAttribute('src');
            }

            const modal = new bootstrap.Modal(modalEl);
            modal.show();
        }

            // Wire up button (suppress other handlers that might open a new tab)
            if (viewBtn) {
                viewBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    if (e.stopImmediatePropagation) e.stopImmediatePropagation();
                    showProjectModal();
                });
            }

        // Clear iframe when closing to stop loading/media
        modalEl?.addEventListener('hidden.bs.modal', () => {
            if (iframe) iframe.src = '';
                // Reset any width override when closed
                modalEl.style.removeProperty('--bs-modal-width');
        });
    });
</script>
</body>
</html>
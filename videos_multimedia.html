<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rainbow Rain with 3D Card Flip</title>
<style>
    html{
        height: 100%;
    }

    body{
        height: 100%;
        margin: 0px;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: black;
        overflow: hidden
    }

    .container{
        width: 100%;
        height: 100%;
        min-width: 600px;
        max-width: 800px;
        max-height: 500px;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(3, 1fr);
    }

    .row{
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .rain{
        position: relative;
        width: 100%;
        height: 100%;
    }

    .rain:nth-of-type(1){
        --duration: 2.7s;
        --delay: 1s;
        transform: translate(10%, 10%) scale(0.9);
    }

    .rain:nth-of-type(2){
        --duration: 2.1s;
        --delay: 1.2s;
        transform: translate(-20%, 40%) scale(1.3);
    }

    .rain:nth-of-type(3){
        --duration: 2.3s;
        --delay: 2s;
        transform: translate(0%, 50%) scale(1.1);
    }

    .rain:nth-of-type(4){
        --duration: 2s;
        --delay: 4s;
        transform: translate(0%, -10%) scale(1.2);
    }

    .rain:nth-of-type(5){
        --duration: 2.5s;
        --delay: 0s;
        transform: translate(10%, 0%) scale(0.9);
    }

    .rain:nth-of-type(6){
        --duration: 2s;
        --delay: 2.7s;
        transform: translate(-20%, 0%) scale(1);
    }

    .rain:nth-of-type(7){
        --duration: 1.8s;
        --delay: 1.3s;
        transform: translate(20%, -40%) scale(1.2);
    }

    .rain:nth-of-type(8){
        --duration: 2.2s;
        --delay: 0s;
        transform: translate(20%, 0%) scale(1);
    }

    .rain:nth-of-type(9){
        --duration: 2s;
        --delay: 0.5s;
        transform: translate(0%, -10%) scale(1.3);
    }

    /* Fairytale RGB rain drops - teardrop shape, highlight, magical */
    .drop{
        width: 16px;
        height: 32px;
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        background: radial-gradient(circle at 60% 30%, rgba(255,255,255,0.7) 0%, rgba(255,182,193,0.7) 40%, rgba(135,206,250,0.7) 70%, rgba(221,160,221,0.7) 100%);
        clip-path: ellipse(45% 80% at 50% 60%);
        border-radius: 60% 60% 80% 80% / 80% 80% 100% 100%;
        box-shadow: 0 0 16px 4px rgba(255,255,255,0.5), 0 0 32px 8px rgba(173,216,230,0.2);
        opacity: 0.95;
        animation-name: fairytale-fall;
        animation-duration: var(--duration);
        animation-delay: var(--delay);
        animation-iteration-count: infinite;
        animation-timing-function: cubic-bezier(.4,.9,.3,1.1);
        animation-fill-mode: backwards;
    }
    .drop::after {
        content: '';
        position: absolute;
        left: 40%;
        top: 15%;
        width: 5px;
        height: 10px;
        background: linear-gradient(180deg, rgba(255,255,255,0.7) 0%, rgba(255,255,255,0) 100%);
        border-radius: 50%;
        opacity: 0.7;
        pointer-events: none;
    }

    @keyframes fairytale-fall{
        0%{
            top: 0;
            opacity: 0.7;
            filter: blur(1px);
        }
        80%{
            top: calc(100% - 32px);
            opacity: 1;
            filter: blur(0px);
        }
        100%{
            top: calc(100% - 32px);
            opacity: 0;
            filter: blur(2px);
        }
    }

    /* Splash: magical ripple, only at impact */
    .splash{
        position: absolute;
        bottom: 8px;
        left: 50%;
        width: 48px;
        height: 20px;
        transform: translateX(-50%) scale(0.7);
        border-radius: 50% 50% 60% 60% / 60% 60% 100% 100%;
        background: radial-gradient(circle at 60% 40%, rgba(255,182,193,0.7) 0%, rgba(221,160,221,0.5) 60%, rgba(135,206,250,0.4) 100%);
        box-shadow: 0 0 16px 6px rgba(255,182,193,0.2), 0 0 24px 8px rgba(221,160,221,0.15);
        opacity: 0;
        animation-name: splash-pop;
        animation-duration: 0.7s;
        animation-delay: calc(var(--delay) + var(--duration) - 0.2s);
        animation-iteration-count: infinite;
        animation-timing-function: cubic-bezier(.5,.8,.5,1);
        animation-fill-mode: backwards;
    }
    @keyframes splash-pop{
        0%{opacity:0;transform:translateX(-50%) scale(0.7);}
        30%{opacity:1;transform:translateX(-50%) scale(1.2);}
        60%{opacity:0.8;transform:translateX(-50%) scale(1);}
        100%{opacity:0;transform:translateX(-50%) scale(0.7);}
    }

    /* Waves: magical ripple, only at impact */
    .waves > div{
        position: absolute;
        bottom: 0;
        left: 50%;
        width: 64px;
        height: 24px;
        transform: translateX(-50%) scale(0.7);
        border-radius: 50%;
        border: solid 2px transparent;
        background:
            linear-gradient(90deg, rgba(255,182,193,0.3), rgba(135,206,250,0.2), rgba(144,238,144,0.2), rgba(221,160,221,0.2));
        box-shadow: 0 0 12px 4px rgba(255,182,193,0.1), 0 0 16px 6px rgba(135,206,250,0.08);
        opacity: 0;
        animation-name: wave-spread;
        animation-duration: 0.7s;
        animation-delay: calc(var(--delay) + var(--duration) - 0.2s);
        animation-iteration-count: infinite;
        animation-timing-function: cubic-bezier(.5,.8,.5,1);
        animation-fill-mode: backwards;
        -webkit-mask-image: radial-gradient(circle, white 60%, transparent 100%);
        mask-image: radial-gradient(circle, white 60%, transparent 100%);
    }
    @keyframes wave-spread{
        0%{opacity:0;transform:translateX(-50%) scale(0.7);}
        30%{opacity:1;transform:translateX(-50%) scale(1.2);}
        60%{opacity:0.8;transform:translateX(-50%) scale(1);}
        100%{opacity:0;transform:translateX(-50%) scale(1.3);}
    }
    .waves > div:nth-child(2){
        animation-delay: calc(var(--delay) + var(--duration) - 0.1s);
        animation-timing-function: linear;
    }

    /* Particles: magical sparkle, only at impact */
    .particles > div{
        position: absolute;
        bottom: 22px;
        left: 50%;
        border-radius: 100%;
        box-shadow: 0 0 8px 2px rgba(255,255,255,0.7), 0 0 12px 4px rgba(221,160,221,0.15);
        opacity: 0;
        animation-duration: 0.7s;
        animation-delay: calc(var(--delay) + var(--duration) - 0.2s);
        animation-iteration-count: infinite;
        animation-timing-function: ease;
        animation-fill-mode: backwards;
    }
    .particles > div:nth-child(1){
        width: 7px;
        height: 7px;
        background: radial-gradient(circle, rgba(255,182,193,0.7) 60%, rgba(221,160,221,0.5) 100%);
        animation-name: particle-jumpLeft;
    }
    .particles > div:nth-child(2){
        width: 5px;
        height: 5px;
        background: radial-gradient(circle, rgba(135,206,250,0.7) 60%, rgba(255,255,224,0.5) 100%);
        animation-name: particle-jumpLeft;
        animation-delay: calc(var(--delay) + var(--duration) - 0.15s);
    }
    .particles > div:nth-child(3){
        width: 3px;
        height: 3px;
        background: radial-gradient(circle, rgba(144,238,144,0.7) 60%, rgba(255,182,193,0.5) 100%);
        animation-name: particle-jumpRight;
        animation-delay: calc(var(--delay) + var(--duration) - 0.1s);
    }
    .particles > div:nth-child(4){
        width: 5px;
        height: 5px;
        background: radial-gradient(circle, rgba(221,160,221,0.7) 60%, rgba(135,206,250,0.5) 100%);
        animation-name: particle-jumpRight;
        animation-delay: calc(var(--delay) + var(--duration) - 0.05s);
    }
    @keyframes particle-jumpLeft{
        0%{opacity:0;transform:translateX(-50%) scale(0);}
        30%{opacity:1;transform:translateX(-60%) scale(1.2);}
        60%{opacity:0.8;transform:translateX(-80%) scale(1);}
        100%{opacity:0;transform:translateX(-100%) scale(0.1);}
    }
    @keyframes particle-jumpRight{
        0%{opacity:0;transform:translateX(-50%) scale(0);}
        30%{opacity:1;transform:translateX(60%) scale(1.2);}
        60%{opacity:0.8;transform:translateX(80%) scale(1);}
        100%{opacity:0;transform:translateX(100%) scale(0.1);}
    }
</style>
</head>
<body>
<div class="container">

    <div class="rain">
        <div class="drop"></div>
        <div class="waves">
            <div></div>
            <div></div>
        </div>
        <div class="splash"></div>
        <div class="particles">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <div class="rain">
        <div class="drop"></div>
        <div class="waves">
            <div></div>
            <div></div>
        </div>
        <div class="splash"></div>
        <div class="particles">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <div class="rain">
        <div class="drop"></div>
        <div class="waves">
            <div></div>
            <div></div>
        </div>
        <div class="splash"></div>
        <div class="particles">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <div class="rain">
        <div class="drop"></div>
        <div class="waves">
            <div></div>
            <div></div>
        </div>
        <div class="splash"></div>
        <div class="particles">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <div class="rain">
        <div class="drop"></div>
        <div class="waves">
            <div></div>
            <div></div>
        </div>
        <div class="splash"></div>
        <div class="particles">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <div class="rain">
        <div class="drop"></div>
        <div class="waves">
            <div></div>
            <div></div>
        </div>
        <div class="splash"></div>
        <div class="particles">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <div class="rain">
        <div class="drop"></div>
        <div class="waves">
            <div></div>
            <div></div>
        </div>
        <div class="splash"></div>
        <div class="particles">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <div class="rain">
        <div class="drop"></div>
        <div class="waves">
            <div></div>
            <div></div>
        </div>
        <div class="splash"></div>
        <div class="particles">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <div class="rain">
        <div class="drop"></div>
        <div class="waves">
            <div></div>
            <div></div>
        </div>
        <div class="splash"></div>
        <div class="particles">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <div class="rain">
        <div class="drop"></div>
        <div class="waves">
            <div></div>
            <div></div>
        </div>
        <div class="splash"></div>
        <div class="particles">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

</div>
</body>
</html>
